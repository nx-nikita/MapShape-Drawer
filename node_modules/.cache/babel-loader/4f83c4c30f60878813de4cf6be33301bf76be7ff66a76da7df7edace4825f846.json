{"ast":null,"code":"import*as turf from\"@turf/turf\";export const applyPolygonRules=(newFeature,existing)=>{for(const old of existing){if(!old.geometry)continue;if(turf.booleanContains(newFeature,old)||turf.booleanContains(old,newFeature)){return null;}if(turf.booleanIntersects(newFeature,old)){return null;}}return newFeature;};export const hasOverlap=(newFeature,features)=>{for(const f of features){if(f.geometry.type!==\"LineString\"&&newFeature.geometry.type!==\"LineString\"){if(turf.booleanIntersects(newFeature,f)){return true;}}}return false;};","map":{"version":3,"names":["turf","applyPolygonRules","newFeature","existing","old","geometry","booleanContains","booleanIntersects","hasOverlap","features","f","type"],"sources":["C:/Users/HP/map-drawing-app/src/utils/geometry.ts"],"sourcesContent":["import * as turf from \"@turf/turf\";\r\nimport { Feature, Geometry } from \"geojson\";\r\n\r\nexport const applyPolygonRules = (\r\n  newFeature: Feature<Geometry>,\r\n  existing: Feature<Geometry>[]\r\n): Feature<Geometry> | null => {\r\n  for (const old of existing) {\r\n    if (!old.geometry) continue;\r\n\r\n    if (\r\n      turf.booleanContains(newFeature, old) ||\r\n      turf.booleanContains(old, newFeature)\r\n    ) {\r\n      return null;\r\n    }\r\n\r\n    if (turf.booleanIntersects(newFeature, old)) {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  return newFeature;\r\n};\r\n\r\nexport const hasOverlap = (\r\n  newFeature: Feature<Geometry>,\r\n  features: Feature<Geometry>[]\r\n): boolean => {\r\n  for (const f of features) {\r\n    if (\r\n      f.geometry.type !== \"LineString\" &&\r\n      newFeature.geometry.type !== \"LineString\"\r\n    ) {\r\n      if (turf.booleanIntersects(newFeature, f)) {\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n\r\n  return false;\r\n};\r\n"],"mappings":"AAAA,MAAO,GAAK,CAAAA,IAAI,KAAM,YAAY,CAGlC,MAAO,MAAM,CAAAC,iBAAiB,CAAGA,CAC/BC,UAA6B,CAC7BC,QAA6B,GACA,CAC7B,IAAK,KAAM,CAAAC,GAAG,GAAI,CAAAD,QAAQ,CAAE,CAC1B,GAAI,CAACC,GAAG,CAACC,QAAQ,CAAE,SAEnB,GACEL,IAAI,CAACM,eAAe,CAACJ,UAAU,CAAEE,GAAG,CAAC,EACrCJ,IAAI,CAACM,eAAe,CAACF,GAAG,CAAEF,UAAU,CAAC,CACrC,CACA,MAAO,KAAI,CACb,CAEA,GAAIF,IAAI,CAACO,iBAAiB,CAACL,UAAU,CAAEE,GAAG,CAAC,CAAE,CAC3C,MAAO,KAAI,CACb,CACF,CAEA,MAAO,CAAAF,UAAU,CACnB,CAAC,CAED,MAAO,MAAM,CAAAM,UAAU,CAAGA,CACxBN,UAA6B,CAC7BO,QAA6B,GACjB,CACZ,IAAK,KAAM,CAAAC,CAAC,GAAI,CAAAD,QAAQ,CAAE,CACxB,GACEC,CAAC,CAACL,QAAQ,CAACM,IAAI,GAAK,YAAY,EAChCT,UAAU,CAACG,QAAQ,CAACM,IAAI,GAAK,YAAY,CACzC,CACA,GAAIX,IAAI,CAACO,iBAAiB,CAACL,UAAU,CAAEQ,CAAC,CAAC,CAAE,CACzC,MAAO,KAAI,CACb,CACF,CACF,CAEA,MAAO,MAAK,CACd,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}