{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\map-drawing-app\\\\-Shapes-Drawer\\\\src\\\\components\\\\MapView.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport { useEffect, useRef, useState } from \"react\";\nimport { MapContainer, TileLayer, FeatureGroup, useMap } from \"react-leaflet\";\nimport { EditControl } from \"react-leaflet-draw\";\nimport L from \"leaflet\";\nimport * as turf from \"@turf/turf\";\nimport { trimPolygon, isFullyInside } from \"../utils/geometry\";\nimport { MAX_SHAPES } from \"../config\";\nimport \"leaflet/dist/leaflet.css\";\nimport \"leaflet-draw/dist/leaflet.draw.css\";\nimport \"../styles/map.css\";\n\n/* ---------------- Map Ref Setter ---------------- */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MapRefSetter = ({\n  mapRef\n}) => {\n  _s();\n  const map = useMap();\n  useEffect(() => {\n    mapRef.current = map;\n  }, [map, mapRef]);\n  return null;\n};\n\n/* ---------------- Custom Zoom Buttons ---------------- */\n_s(MapRefSetter, \"IoceErwr5KVGS9kN4RQ1bOkYMAg=\", false, function () {\n  return [useMap];\n});\n_c = MapRefSetter;\nconst DrawZoomControl = () => {\n  _s2();\n  const map = useMap();\n  useEffect(() => {\n    const ZoomControl = L.Control.extend({\n      onAdd() {\n        const container = L.DomUtil.create(\"div\", \"leaflet-bar draw-zoom-control\");\n        const zoomIn = L.DomUtil.create(\"a\", \"\", container);\n        zoomIn.innerHTML = \"+\";\n        const zoomOut = L.DomUtil.create(\"a\", \"\", container);\n        zoomOut.innerHTML = \"−\";\n        L.DomEvent.disableClickPropagation(container);\n        L.DomEvent.disableScrollPropagation(container);\n        L.DomEvent.on(zoomIn, \"click\", () => map.zoomIn());\n        L.DomEvent.on(zoomOut, \"click\", () => map.zoomOut());\n        return container;\n      }\n    });\n    const control = new ZoomControl({\n      position: \"topright\"\n    });\n    map.addControl(control);\n    return () => {\n      map.removeControl(control);\n    };\n  }, [map]);\n  return null;\n};\n\n/* ---------------- Colors ---------------- */\n_s2(DrawZoomControl, \"IoceErwr5KVGS9kN4RQ1bOkYMAg=\", false, function () {\n  return [useMap];\n});\n_c2 = DrawZoomControl;\nconst SHAPE_COLORS = [{\n  stroke: \"#ff6b6b\",\n  fill: \"#ff8787\"\n}, {\n  stroke: \"#4dabf7\",\n  fill: \"#74c0fc\"\n}, {\n  stroke: \"#f59f00\",\n  fill: \"#ffc078\"\n}, {\n  stroke: \"#37b24d\",\n  fill: \"#8ce99a\"\n}];\n\n/* ================= MAIN COMPONENT ================= */\nconst MapView = () => {\n  _s3();\n  const [features, setFeatures] = useState([]);\n  const [searchText, setSearchText] = useState(\"\");\n  const [searchCoords, setSearchCoords] = useState(null);\n  const [theme, setTheme] = useState(\"light\");\n  const mapRef = useRef(null);\n  const featureGroupRef = useRef(null);\n\n  /* ---------------- ON CREATE ---------------- */\n  const onCreated = e => {\n    var _setStyle, _ref;\n    const layer = e.layer;\n    let geojson = layer.toGeoJSON();\n    const rawType = geojson.geometry.type.toLowerCase();\n    let shapeType;\n    if (rawType === \"linestring\") shapeType = \"linestring\";else if (layer instanceof L.Circle) shapeType = \"circle\";else if (layer instanceof L.Rectangle) shapeType = \"rectangle\";else shapeType = \"polygon\";\n\n    /* MAX LIMIT CHECK */\n    const count = features.filter(f => {\n      var _f$properties;\n      return ((_f$properties = f.properties) === null || _f$properties === void 0 ? void 0 : _f$properties.shapeType) === shapeType;\n    }).length;\n    if (count >= MAX_SHAPES[shapeType]) {\n      alert(`❌ Maximum ${shapeType} limit reached`);\n      layer.remove();\n      return;\n    }\n\n    /* LineString: no rules */\n    if (shapeType === \"linestring\") {\n      geojson.properties = {\n        id: Date.now(),\n        shapeType\n      };\n      setFeatures(prev => [...prev, geojson]);\n      return;\n    }\n\n    /* Convert Circle/Rectangle → Polygon */\n    let polygon;\n    if (layer instanceof L.Circle) {\n      const c = layer.getLatLng();\n      polygon = turf.circle([c.lng, c.lat], layer.getRadius(), {\n        steps: 64,\n        units: \"meters\"\n      });\n    } else {\n      polygon = geojson;\n    }\n    const existingPolygons = features.filter(f => f.geometry.type === \"Polygon\");\n    let finalPolygon = polygon;\n    for (const existing of existingPolygons) {\n      /* ✅ STEP 4: FULL ENCLOSURE BLOCK */\n      if (isFullyInside(finalPolygon, existing)) {\n        alert(\"❌ Polygon fully encloses / enclosed by existing polygon\");\n        layer.remove();\n        return;\n      }\n\n      /* PARTIAL OVERLAP → AUTO TRIM */\n      if (turf.booleanIntersects(finalPolygon, existing)) {\n        const trimmed = trimPolygon(finalPolygon, existing);\n        if (!trimmed) {\n          alert(\"❌ Polygon fully overlapped\");\n          layer.remove();\n          return;\n        }\n        finalPolygon = trimmed;\n      }\n    }\n    geojson = finalPolygon;\n\n    /* COLOR */\n    const color = SHAPE_COLORS[Math.floor(Math.random() * SHAPE_COLORS.length)];\n    (_setStyle = (_ref = layer).setStyle) === null || _setStyle === void 0 ? void 0 : _setStyle.call(_ref, {\n      color: color.stroke,\n      fillColor: color.fill,\n      fillOpacity: 0.4,\n      weight: 3\n    });\n    geojson.properties = {\n      id: Date.now(),\n      shapeType,\n      strokeColor: color.stroke,\n      fillColor: color.fill\n    };\n    setFeatures(prev => [...prev, geojson]);\n  };\n\n  /* ---------------- EXPORT GEOJSON (STEP 5) ---------------- */\n  const exportGeoJSON = () => {\n    if (!featureGroupRef.current) return;\n    const geoJson = featureGroupRef.current.toGeoJSON();\n    geoJson.features = geoJson.features.map(f => ({\n      ...f,\n      properties: {\n        ...f.properties,\n        shapeType: f.geometry.type\n      }\n    }));\n    const blob = new Blob([JSON.stringify(geoJson, null, 2)], {\n      type: \"application/json\"\n    });\n    const a = document.createElement(\"a\");\n    a.href = URL.createObjectURL(blob);\n    a.download = \"shapes.geojson\";\n    a.click();\n  };\n\n  /* ================= RENDER ================= */\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"map-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"rt-btn export\",\n      onClick: exportGeoJSON,\n      children: \"\\u2B07 Export GeoJSON\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MapContainer, {\n      center: [20.5937, 78.9629],\n      zoom: 5,\n      zoomControl: false,\n      children: [/*#__PURE__*/_jsxDEV(MapRefSetter, {\n        mapRef: mapRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TileLayer, {\n        url: theme === \"dark\" ? \"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png\" : \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FeatureGroup, {\n        ref: featureGroupRef,\n        children: /*#__PURE__*/_jsxDEV(EditControl, {\n          position: \"topright\",\n          onCreated: onCreated,\n          draw: {\n            polygon: true,\n            rectangle: true,\n            circle: true,\n            polyline: true,\n            marker: false,\n            circlemarker: false\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DrawZoomControl, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 200,\n    columnNumber: 5\n  }, this);\n};\n_s3(MapView, \"emE9gUvwMM2HHmeSGsEFt3rNq+0=\");\n_c3 = MapView;\nexport default MapView;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"MapRefSetter\");\n$RefreshReg$(_c2, \"DrawZoomControl\");\n$RefreshReg$(_c3, \"MapView\");","map":{"version":3,"names":["useEffect","useRef","useState","MapContainer","TileLayer","FeatureGroup","useMap","EditControl","L","turf","trimPolygon","isFullyInside","MAX_SHAPES","jsxDEV","_jsxDEV","MapRefSetter","mapRef","_s","map","current","_c","DrawZoomControl","_s2","ZoomControl","Control","extend","onAdd","container","DomUtil","create","zoomIn","innerHTML","zoomOut","DomEvent","disableClickPropagation","disableScrollPropagation","on","control","position","addControl","removeControl","_c2","SHAPE_COLORS","stroke","fill","MapView","_s3","features","setFeatures","searchText","setSearchText","searchCoords","setSearchCoords","theme","setTheme","featureGroupRef","onCreated","e","_setStyle","_ref","layer","geojson","toGeoJSON","rawType","geometry","type","toLowerCase","shapeType","Circle","Rectangle","count","filter","f","_f$properties","properties","length","alert","remove","id","Date","now","prev","polygon","c","getLatLng","circle","lng","lat","getRadius","steps","units","existingPolygons","finalPolygon","existing","booleanIntersects","trimmed","color","Math","floor","random","setStyle","call","fillColor","fillOpacity","weight","strokeColor","exportGeoJSON","geoJson","blob","Blob","JSON","stringify","a","document","createElement","href","URL","createObjectURL","download","click","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","center","zoom","zoomControl","url","ref","draw","rectangle","polyline","marker","circlemarker","_c3","$RefreshReg$"],"sources":["C:/Users/HP/map-drawing-app/-Shapes-Drawer/src/components/MapView.tsx"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\r\nimport {\r\n  MapContainer,\r\n  TileLayer,\r\n  FeatureGroup,\r\n  Marker,\r\n  Tooltip,\r\n  Polygon,\r\n  Circle,\r\n  Polyline,\r\n  useMap,\r\n} from \"react-leaflet\";\r\nimport { EditControl } from \"react-leaflet-draw\";\r\nimport L from \"leaflet\";\r\nimport * as turf from \"@turf/turf\";\r\nimport { Feature, Geometry, Polygon as GeoPolygon } from \"geojson\";\r\n\r\nimport { trimPolygon, isFullyInside } from \"../utils/geometry\";\r\nimport { MAX_SHAPES, ShapeType } from \"../config\";\r\n\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport \"leaflet-draw/dist/leaflet.draw.css\";\r\nimport \"../styles/map.css\";\r\n\r\n/* ---------------- Map Ref Setter ---------------- */\r\nconst MapRefSetter = ({ mapRef }: { mapRef: React.MutableRefObject<L.Map | null> }) => {\r\n  const map = useMap();\r\n  useEffect(() => {\r\n    mapRef.current = map;\r\n  }, [map, mapRef]);\r\n  return null;\r\n};\r\n\r\n/* ---------------- Custom Zoom Buttons ---------------- */\r\nconst DrawZoomControl = () => {\r\n  const map = useMap();\r\n\r\n  useEffect(() => {\r\n    const ZoomControl = L.Control.extend({\r\n      onAdd() {\r\n        const container = L.DomUtil.create(\"div\", \"leaflet-bar draw-zoom-control\");\r\n\r\n        const zoomIn = L.DomUtil.create(\"a\", \"\", container);\r\n        zoomIn.innerHTML = \"+\";\r\n\r\n        const zoomOut = L.DomUtil.create(\"a\", \"\", container);\r\n        zoomOut.innerHTML = \"−\";\r\n\r\n        L.DomEvent.disableClickPropagation(container);\r\n        L.DomEvent.disableScrollPropagation(container);\r\n\r\n        L.DomEvent.on(zoomIn, \"click\", () => map.zoomIn());\r\n        L.DomEvent.on(zoomOut, \"click\", () => map.zoomOut());\r\n\r\n        return container;\r\n      },\r\n    });\r\n\r\n    const control = new ZoomControl({ position: \"topright\" }) as L.Control;\r\n    map.addControl(control);\r\n\r\n    return () => {\r\n      map.removeControl(control);\r\n    };\r\n  }, [map]);\r\n\r\n  return null;\r\n};\r\n\r\n/* ---------------- Colors ---------------- */\r\nconst SHAPE_COLORS = [\r\n  { stroke: \"#ff6b6b\", fill: \"#ff8787\" },\r\n  { stroke: \"#4dabf7\", fill: \"#74c0fc\" },\r\n  { stroke: \"#f59f00\", fill: \"#ffc078\" },\r\n  { stroke: \"#37b24d\", fill: \"#8ce99a\" },\r\n];\r\n\r\n/* ================= MAIN COMPONENT ================= */\r\nconst MapView = () => {\r\n  const [features, setFeatures] = useState<Feature<Geometry>[]>([]);\r\n  const [searchText, setSearchText] = useState(\"\");\r\n  const [searchCoords, setSearchCoords] = useState<[number, number] | null>(null);\r\n  const [theme, setTheme] = useState<\"dark\" | \"light\">(\"light\");\r\n\r\n  const mapRef = useRef<L.Map | null>(null);\r\n  const featureGroupRef = useRef<L.FeatureGroup | null>(null);\r\n\r\n  /* ---------------- ON CREATE ---------------- */\r\n  const onCreated = (e: any) => {\r\n    const layer = e.layer;\r\n    let geojson = layer.toGeoJSON() as Feature<Geometry>;\r\n    const rawType = geojson.geometry.type.toLowerCase();\r\n\r\n    let shapeType: ShapeType;\r\n    if (rawType === \"linestring\") shapeType = \"linestring\";\r\n    else if (layer instanceof L.Circle) shapeType = \"circle\";\r\n    else if (layer instanceof L.Rectangle) shapeType = \"rectangle\";\r\n    else shapeType = \"polygon\";\r\n\r\n    /* MAX LIMIT CHECK */\r\n    const count = features.filter(f => f.properties?.shapeType === shapeType).length;\r\n    if (count >= MAX_SHAPES[shapeType]) {\r\n      alert(`❌ Maximum ${shapeType} limit reached`);\r\n      layer.remove();\r\n      return;\r\n    }\r\n\r\n    /* LineString: no rules */\r\n    if (shapeType === \"linestring\") {\r\n      geojson.properties = { id: Date.now(), shapeType };\r\n      setFeatures(prev => [...prev, geojson]);\r\n      return;\r\n    }\r\n\r\n    /* Convert Circle/Rectangle → Polygon */\r\n    let polygon: Feature<GeoPolygon>;\r\n    if (layer instanceof L.Circle) {\r\n      const c = layer.getLatLng();\r\n      polygon = turf.circle([c.lng, c.lat], layer.getRadius(), {\r\n        steps: 64,\r\n        units: \"meters\",\r\n      }) as Feature<GeoPolygon>;\r\n    } else {\r\n      polygon = geojson as Feature<GeoPolygon>;\r\n    }\r\n\r\n    const existingPolygons = features.filter(\r\n      f => f.geometry.type === \"Polygon\"\r\n    ) as Feature<GeoPolygon>[];\r\n\r\n    let finalPolygon = polygon;\r\n\r\n    for (const existing of existingPolygons) {\r\n      /* ✅ STEP 4: FULL ENCLOSURE BLOCK */\r\n      if (isFullyInside(finalPolygon, existing)) {\r\n        alert(\"❌ Polygon fully encloses / enclosed by existing polygon\");\r\n        layer.remove();\r\n        return;\r\n      }\r\n\r\n      /* PARTIAL OVERLAP → AUTO TRIM */\r\n      if (turf.booleanIntersects(finalPolygon, existing)) {\r\n        const trimmed = trimPolygon(finalPolygon, existing);\r\n        if (!trimmed) {\r\n          alert(\"❌ Polygon fully overlapped\");\r\n          layer.remove();\r\n          return;\r\n        }\r\n        finalPolygon = trimmed;\r\n      }\r\n    }\r\n\r\n    geojson = finalPolygon as Feature<Geometry>;\r\n\r\n    /* COLOR */\r\n    const color = SHAPE_COLORS[Math.floor(Math.random() * SHAPE_COLORS.length)];\r\n    (layer as any).setStyle?.({\r\n      color: color.stroke,\r\n      fillColor: color.fill,\r\n      fillOpacity: 0.4,\r\n      weight: 3,\r\n    });\r\n\r\n    geojson.properties = {\r\n      id: Date.now(),\r\n      shapeType,\r\n      strokeColor: color.stroke,\r\n      fillColor: color.fill,\r\n    };\r\n\r\n    setFeatures(prev => [...prev, geojson]);\r\n  };\r\n\r\n  /* ---------------- EXPORT GEOJSON (STEP 5) ---------------- */\r\n  const exportGeoJSON = () => {\r\n    if (!featureGroupRef.current) return;\r\n\r\n    const geoJson = featureGroupRef.current.toGeoJSON() as any;\r\n\r\n    geoJson.features = geoJson.features.map((f: any) => ({\r\n      ...f,\r\n      properties: {\r\n        ...f.properties,\r\n        shapeType: f.geometry.type,\r\n      },\r\n    }));\r\n\r\n    const blob = new Blob([JSON.stringify(geoJson, null, 2)], {\r\n      type: \"application/json\",\r\n    });\r\n\r\n    const a = document.createElement(\"a\");\r\n    a.href = URL.createObjectURL(blob);\r\n    a.download = \"shapes.geojson\";\r\n    a.click();\r\n  };\r\n\r\n  /* ================= RENDER ================= */\r\n  return (\r\n    <div className=\"map-wrapper\">\r\n      <button className=\"rt-btn export\" onClick={exportGeoJSON}>\r\n        ⬇ Export GeoJSON\r\n      </button>\r\n\r\n      <MapContainer center={[20.5937, 78.9629]} zoom={5} zoomControl={false}>\r\n        <MapRefSetter mapRef={mapRef} />\r\n\r\n        <TileLayer\r\n          url={\r\n            theme === \"dark\"\r\n              ? \"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png\"\r\n              : \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n          }\r\n        />\r\n\r\n        <FeatureGroup ref={featureGroupRef}>\r\n          <EditControl\r\n            position=\"topright\"\r\n            onCreated={onCreated}\r\n            draw={{\r\n              polygon: true,\r\n              rectangle: true,\r\n              circle: true,\r\n              polyline: true,\r\n              marker: false,\r\n              circlemarker: false,\r\n            }}\r\n          />\r\n        </FeatureGroup>\r\n\r\n        <DrawZoomControl />\r\n      </MapContainer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MapView;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}