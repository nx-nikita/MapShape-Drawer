{"ast":null,"code":"import * as turf from \"@turf/turf\";\n/* =====================================================\r\n   STEP 2: POLYGON OVERLAP DETECTION (IMPORTANT ⭐⭐⭐)\r\n   Uses turf.intersect → interviewer expected\r\n===================================================== */\nexport const hasOverlap = (newFeature, existingFeatures) => {\n  return existingFeatures.some(feature => {\n    const intersection = turf.intersect(feature, newFeature);\n    return intersection !== null;\n  });\n};\n\n/* =====================================================\r\n   STEP 3: AUTO-TRIM OVERLAPPING POLYGON ⭐⭐⭐\r\n   Uses turf.difference\r\n===================================================== */\nexport const trimPolygon = (newPoly, existingPoly) => {\n  const trimmed = turf.difference(newPoly, existingPoly);\n  if (!trimmed) return null;\n  return trimmed;\n};","map":{"version":3,"names":["turf","hasOverlap","newFeature","existingFeatures","some","feature","intersection","intersect","trimPolygon","newPoly","existingPoly","trimmed","difference"],"sources":["C:/Users/HP/map-drawing-app/-Shapes-Drawer/src/utils/geometry.ts"],"sourcesContent":["import * as turf from \"@turf/turf\";\r\nimport { Feature, Polygon } from \"geojson\";\r\n\r\n/* =====================================================\r\n   STEP 2: POLYGON OVERLAP DETECTION (IMPORTANT ⭐⭐⭐)\r\n   Uses turf.intersect → interviewer expected\r\n===================================================== */\r\nexport const hasOverlap = (\r\n  newFeature: Feature<Polygon>,\r\n  existingFeatures: Feature<Polygon>[]\r\n): boolean => {\r\n  return existingFeatures.some((feature) => {\r\n    const intersection = turf.intersect(\r\n      feature as any,\r\n      newFeature as any\r\n    );\r\n    return intersection !== null;\r\n  });\r\n};\r\n\r\n/* =====================================================\r\n   STEP 3: AUTO-TRIM OVERLAPPING POLYGON ⭐⭐⭐\r\n   Uses turf.difference\r\n===================================================== */\r\nexport const trimPolygon = (\r\n  newPoly: Feature<Polygon>,\r\n  existingPoly: Feature<Polygon>\r\n): Feature<Polygon> | null => {\r\n  const trimmed = turf.difference(\r\n    newPoly as any,\r\n    existingPoly as any\r\n  );\r\n\r\n  if (!trimmed) return null;\r\n  return trimmed as Feature<Polygon>;\r\n};\r\n"],"mappings":"AAAA,OAAO,KAAKA,IAAI,MAAM,YAAY;AAGlC;AACA;AACA;AACA;AACA,OAAO,MAAMC,UAAU,GAAGA,CACxBC,UAA4B,EAC5BC,gBAAoC,KACxB;EACZ,OAAOA,gBAAgB,CAACC,IAAI,CAAEC,OAAO,IAAK;IACxC,MAAMC,YAAY,GAAGN,IAAI,CAACO,SAAS,CACjCF,OAAO,EACPH,UACF,CAAC;IACD,OAAOI,YAAY,KAAK,IAAI;EAC9B,CAAC,CAAC;AACJ,CAAC;;AAED;AACA;AACA;AACA;AACA,OAAO,MAAME,WAAW,GAAGA,CACzBC,OAAyB,EACzBC,YAA8B,KACF;EAC5B,MAAMC,OAAO,GAAGX,IAAI,CAACY,UAAU,CAC7BH,OAAO,EACPC,YACF,CAAC;EAED,IAAI,CAACC,OAAO,EAAE,OAAO,IAAI;EACzB,OAAOA,OAAO;AAChB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}